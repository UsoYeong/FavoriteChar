:root {
  --bg: #0b0c10;
  --fg: #e9edf1;
  --muted: #9aa4b2;
  --card: rgba(255,255,255,0.06);
  --stroke: rgba(255,255,255,0.12);
  --accent-1: #b993d6; /* lilac */
  --accent-2: #8ca6db; /* soft blue */
  --accent-3: #a1ffce; /* mint */
  --shadow: 0 10px 30px rgba(0,0,0,0.25);
  --radius-xl: 24px;
}
[data-theme="light"] {
  --bg: #f6f7fb;
  --fg: #151a22;
  --muted: #5b6676;
  --card: rgba(255,255,255,0.7);
  --stroke: rgba(20,25,35,0.08);
  --shadow: 0 10px 24px rgba(17, 23, 41, 0.08);
}
* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0; background: radial-gradient(1200px 900px at 80% -10%, rgba(185,147,214,0.25), transparent 40%),
                           radial-gradient(1000px 800px at -10% 110%, rgba(140,166,219,0.25), transparent 45%),
                           var(--bg);
  color: var(--fg);
  font-family: 'Noto Sans KR', system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  display: grid; place-items: center;
  padding: 32px; 
}
.app { width: min(100%, 980px); }

.toolbar {
  display: flex; align-items: center; justify-content: space-between;
  margin-bottom: 18px; gap: 12px;
}
.toolbar .left, .toolbar .right { display: flex; gap: 8px; align-items: center; }
.chip {
  padding: 6px 12px; border: 1px solid var(--stroke); border-radius: 999px; color: var(--muted);
  backdrop-filter: blur(8px);
  background: linear-gradient(0deg, rgba(255,255,255,0.03), rgba(255,255,255,0.06));
  font-size: 12px; letter-spacing: 0.2px; font-weight: 600;
}
.btn {
  appearance: none; border: 1px solid var(--stroke); background: var(--card); color: var(--fg);
  padding: 10px 14px; border-radius: 14px; cursor: pointer; font-weight: 700;
  display: inline-flex; align-items: center; gap: 8px;
  box-shadow: var(--shadow);
  transition: transform .08s ease, background .2s ease, border-color .2s ease;
}
.btn:hover { transform: translateY(-1px); }
.btn:active { transform: translateY(0); }

.card {
  position: relative;
  border-radius: var(--radius-xl);
  overflow: clip;
  background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
  border: 1px solid var(--stroke);
  box-shadow: var(--shadow);
  isolation: isolate;
  transform-style: preserve-3d;
}
.card::before {
  content:""; position: absolute; inset: -1px;
  background: conic-gradient(from 180deg at 50% 50%, var(--accent-1), var(--accent-2), var(--accent-3), var(--accent-1));
  border-radius: inherit; filter: blur(24px); opacity: 0.25; z-index: -1;
}

.banner {
  position: relative; height: 140px; border-bottom: 1px solid var(--stroke);
  background: linear-gradient(135deg, rgba(185,147,214,0.35), rgba(140,166,219,0.25)),
              radial-gradient(400px 140px at 80% 50%, rgba(161,255,206,0.35), transparent 70%);
}
.emblem {
  position: absolute; right: 16px; top: 16px; width: 64px; height: 64px; border-radius: 16px;
  border: 1px solid var(--stroke); background: var(--card); display: grid; place-items: center;
  font-family: 'Nunito', sans-serif; font-weight: 900; font-size: 22px; letter-spacing: 1px;
}

.content {
  display: grid; grid-template-columns: 280px 1fr; gap: 24px; padding: 20px; 
}
@media (max-width: 780px) {
  .content { grid-template-columns: 1fr; }
}

.portrait {
  position: relative; display: grid; gap: 14px; align-content: start;
}

.avatar {
  width: 100%;
  max-width: 260px;       /* ✅ 부모 셀보다 살짝 작게 */
  aspect-ratio: 1 / 1;
  border-radius: 18px;
  overflow: hidden;
  border: 1px solid var(--stroke);
  background: linear-gradient(180deg, rgba(255,255,255,0.05), rgba(255,255,255,0.02));
  display: grid;
  place-items: center;
  user-select: none;
  margin: 0 auto;         /* ✅ 중앙 정렬 (수직 열일 때도 대응) */
}



.avatar-inner {
  width: 88%; aspect-ratio: 1; border-radius: 50%; border: 1px dashed var(--stroke); display: grid; place-items: center;
  background: radial-gradient(220px 180px at 50% 40%, rgba(185,147,214,0.25), transparent 60%);
  font-family: 'Nunito', sans-serif; font-weight: 900; font-size: 56px;
}
.upload {
  display: flex; align-items: center; justify-content: space-between; gap: 10px;
  border: 1px dashed var(--stroke); border-radius: 14px; padding: 10px 12px; color: var(--muted);
  font-size: 12px;
}
.upload input { display: none; }
.upload label { cursor: pointer; font-weight: 700; }

.info {
  display: grid; gap: 14px;
}
.title {
  display: grid; gap: 6px;
}
.title h1{ margin: 0; font-size: 28px; letter-spacing: 0.2px; }
.subtitle { color: var(--muted); font-size: 14px; }

.tags { display: flex; flex-wrap: wrap; gap: 8px; }

.grid {
  display: grid; grid-template-columns: repeat(2, minmax(0,1fr)); gap: 8px; margin-top: 6px;
}
.row { display: grid; grid-template-columns: 110px 1fr; gap: 8px; align-items: center; padding: 10px 12px; border: 1px solid var(--stroke); border-radius: 12px; background: linear-gradient(0deg, rgba(255,255,255,0.03), rgba(255,255,255,0.06)); }
.row .k { color: var(--muted); font-size: 12px; letter-spacing: 0.3px; }
.row .v { font-weight: 700; }

.meter {
  height: 10px; border-radius: 999px; background: rgba(255,255,255,0.06); border: 1px solid var(--stroke); overflow: hidden;
}
.bar {
  height: 100%; width: var(--val, 50%);
  background: linear-gradient(90deg, var(--accent-2), var(--accent-1));
}

.actions { display: flex; gap: 10px; margin-top: 4px; flex-wrap: wrap; }

.divider { height: 1px; background: var(--stroke); margin: 8px 0; }

.footnote { color: var(--muted); font-size: 12px; line-height: 1.45; }

dialog {
  width: min(720px, 92vw); border: 1px solid var(--stroke); border-radius: 16px; background: var(--bg); color: var(--fg);
  padding: 0; overflow: hidden; box-shadow: var(--shadow);
}
dialog::backdrop { background: rgba(0,0,0,0.55); }
.sheet-head { display:flex; align-items:center; justify-content:space-between; padding: 14px 16px; border-bottom: 1px solid var(--stroke); background: linear-gradient(90deg, rgba(185,147,214,0.15), rgba(140,166,219,0.15)); }
.sheet-body { padding: 16px; display: grid; gap: 12px; }
.ul { margin: 0; padding-left: 18px; }

.rating { display:flex; gap: 2px; align-items:center; }
.star { width: 16px; height: 16px; }
.sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); white-space: nowrap; border: 0; }

/* ✅ 업로드 이미지가 박스에 맞게 중앙 크롭되도록 */
.avatar img {
  width: 100%;
  height: 100%;
  display: block;
  object-fit: cover;        /* 꽉 채우고 넘치는 부분 잘라냄 */
  object-position: center;  /* 중앙 기준으로 크롭 */
  border-radius: inherit;   /* 모서리 둥근 값 상속 */
}

/* ==== 공통 미세 개선 ==== */
.card {
  /* 모바일에서도 부드럽게 */
  transform-style: preserve-3d;
  transition: transform 0.15s ease-out, box-shadow .2s ease;
  will-change: transform;
}

/* 텍스트 줄바꿈 & 여백 보정 */
.title h1 { word-break: keep-all; }
.app { width: min(100%, 960px); }

/* 정보 그리드가 너무 빽빽해지지 않도록 라인 높이 약간 여유 */
.row .k, .row .v { line-height: 1.35; }



/* ==== 화면 폭 900px 이하 ==== */
@media (max-width: 900px) {
  body { padding: 24px; }
  .content { gap: 16px; padding: 16px; }
  .avatar { max-width: 320px; }
  .card-thumb img { height: 220px; } /* index 썸네일 */
}

/* ==== 화면 폭 780px 이하 (단일 컬럼 전환 이미 있음) 보완 ==== */
@media (max-width: 780px) {
  .toolbar { flex-wrap: wrap; gap: 10px; }
  .toolbar .left, .toolbar .right { flex-wrap: wrap; }
  .banner { height: 120px; }
  .emblem { right: 12px; top: 12px; width: 56px; height: 56px; border-radius: 14px; font-size: 20px; }
  .avatar { max-width: 360px; margin-inline: auto; }
  .tags { gap: 6px; }
  .grid { grid-template-columns: 1fr; } /* 정보/스탯 그리드 1열 */
}

/* ==== 화면 폭 560px 이하: 라벨/값 세로 스택, 터치 타겟 확대 ==== */
@media (max-width: 560px) {
  .row { grid-template-columns: 1fr; align-items: start; }
  .row .k { font-size: 11.5px; }
  .btn { padding: 12px 14px; border-radius: 12px; }
  .avatar { max-width: 100%; } /* 카드 폭에 맞춤 */
  .card-thumb img { height: 200px; }
}

/* ==== 극소형 (380px 이하) ==== */
@media (max-width: 380px) {
  .title h1 { font-size: 22px; }
  .subtitle { font-size: 12px; }
  .chip { padding: 5px 10px; font-size: 11px; }
  .row { padding: 8px 10px; }
  .meter { height: 8px; }
}

/* ==== dialog(모달) 모바일 최적화 ==== */
dialog {
  max-height: 90vh;
  overflow: auto;
}

@media (max-width: 560px) {
  .grid { grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); }
}
